"use strict";var myMap,input=document.querySelector("input"),iframe=document.querySelector("iframe"),Points=document.querySelector(".inf-window__points"),mapOnce=document.querySelector(".inf-map"),count=0,objects=[],result=null,arrPoly=[],myPolyline=null;function checkKey(e){if("13"==(e=e||window.event).keyCode&&""!=input.value){var t=document.createElement("div");t.style.display="flex",t.className="inf-window__point-wrapper";var o=document.createElement("p");o.className="inf-window__text";var n=document.createTextNode(input.value);o.appendChild(n),t.appendChild(o);var a=document.createElement("img");a.addEventListener("click",deleteText),a.className="inf-window__point-close",a.src="img/index/cross.png",t.appendChild(a),Points.appendChild(t),createMarker()}}function deleteText(e){for(var t=document.querySelectorAll(".inf-window__point-close"),o=0;o<t.length;o++)if(t[o]==e.target){if(myMap.geoObjects.remove(objects[o]),myMap.geoObjects.remove(myPolyline),0==--count){for(var n=0;n<objects.length;n++)myMap.geoObjects.remove(objects[n]);objects=[]}2!=arrPoly.length&&1!=arrPoly.length&&(arrPoly.splice(o,1),createPoly())}e.target.parentNode.style.display="none"}function init(){myMap=new ymaps.Map("map",{center:[55.76,37.64],zoom:10},{searchControlProvider:"yandex#search"})}function createMarker(){objects[count]=new ymaps.Placemark(myMap.getCenter(),{balloonContent:"<strong>"+input.value+"</strong>"},{preset:"islands#blackStretchyIcon",draggable:!1}),arrPoly[count]=myMap.getCenter(),createPoly(),myMap.geoObjects.add(objects[count]),count++}function createPoly(){0!=count&&(myMap.geoObjects.remove(myPolyline),myPolyline=new ymaps.Polyline(arrPoly,{balloonContent:"Маршрут"},{strokeColor:"#000000",draggable:!0,strokeWidth:4,strokeOpacity:.5}),myMap.geoObjects.add(myPolyline))}document.onkeydown=checkKey,ymaps.ready(init);
//# sourceMappingURL=maps/main.min.js.map
